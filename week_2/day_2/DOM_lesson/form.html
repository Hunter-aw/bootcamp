<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
</head>
<body>
    

<form id = "form">
    Username:
    <input id = "username" type="text" placeholder="Your Name" minlength="5">
    <br> Email:
    <input type="e-mail" placeholder="yourname@email.com">
    <br> Password:
    <input id = "pass" type="password">
    <br> Repeat password:
    <input id = "confirmPass" type="password">
    <br> Phone Number:
    <input id="phone" type="number">
    <br> Country:
    <input id= "country" type="text">
    <br>
    <button id= "submit" type="button" onclick="submitForm();">Submit</button>
</form>
<ul id="errorList">

</ul>
<style>
    #errorList {
        color: red;
    }
    .green {
        color: green
    }
</style>
<script text="text/javascript">
    var submitButton = document.getElementById("submit")
    let user = document.getElementById("username").value
    let pass = document.getElementById("pass")
    let confirmPass = document.getElementById("confirmPass").value
    var form = document.getElementById("form")
    var errorList = document.getElementById("errorList")
    var newUserError = document.createElement("li")
    var newPassError = document.createElement("li")
    var confirmPassError = document.createElement("li")
    var confirmCountryError = document.createElement("li")
    var confirmPhoneError = document.createElement("li")
    var addBreak = document.createElement("br")
    var newUserText = document.createTextNode("Don't be short with me. Try again, with more than 5 characters, amature.")
    var newPassText = document.createTextNode("Please use more than 6 characters in your password")
    var passConfirmText = document.createTextNode("Your passwords do not match, please try again, goodbye.")
    var countryConfirmText = document.createTextNode("You don't seem to be from America or Little America, shame on you")
    var phoneConfirmText = document.createTextNode("That's a few digits to many mate, keep it below 15")
    

    // function runAllErrors() {
    //     While (!submitForm()) {
    //         submitForm()
    //     }
    // }

    function submitForm() {
        // debugger;
        // let user = document.getElementById("username").value
        // let pass = document.getElementById("pass").value
        // let confirmPass = document.getElementById("confirmPass").value
        // let country = document.getElementById("country").value

        userValidate()
        passValidate()
        passConfirm()
        countryValidate()
        phoneNumberValidate()
        if(userValidate() && passValidate() && passConfirm() && countryValidate() && phoneNumberValidate()) {
            let name = document.getElementById("username").value
            // var attr = document.createAttribute("class");
            // attr.value = "green";
            errorList.style.color = "green";
            errorList.innerHTML = `Thank you and welcome ${name}, It's out pleasure to rock your freaking world`
        } else {
            return false
        }
    }
    
    function userValidate() {
        let user = document.getElementById("username").value
        if (user.length < 5) {
            newUserError.appendChild(newUserText)
            errorList.appendChild(newUserError)
            newUserError.style.display = "block";
            return false;
        } else {
            newUserError.style.display = "none";
            return true;
            
        }
    }
    function passValidate() {
        let pass = document.getElementById("pass").value
        if (pass.length < 6) {
            newPassError.appendChild(newPassText)
            errorList.appendChild(newPassError)
            newPassError.style.display = "block";
            return false;
        } else {
            newPassError.style.display = "none";
            return true;
        }
    }
    function passConfirm() {
        let pass = document.getElementById("pass").value
        let confirmPass = document.getElementById("confirmPass").value
        if (pass !== confirmPass) {
            confirmPassError.appendChild(passConfirmText)
            errorList.appendChild(confirmPassError)
            confirmPassError.style.display = "block";
            return false;
        } else {
            confirmPassError.style.display = "none";
            return true;
        }
    }
    function countryValidate() {
        // debugger;
        let country = document.getElementById("country").value
        if ((country !== "USA") && (country !== "Israel")) {
            confirmCountryError.appendChild(countryConfirmText)
            errorList.appendChild(confirmCountryError)
            confirmCountryError.style.display = "block";
            return false;
        } else {
            confirmCountryError.style.display = "none";
            return true;
        }
    }
    function phoneNumberValidate() {
        let phoneNumber = document.getElementById("phone").value
        if (phoneNumber.toString().length > 15) {
            confirmPhoneError.appendChild(phoneConfirmText)
            errorList.appendChild(confirmPhoneError)
            confirmPhoneError.style.display = "block";
            return false;
        } else {
            confirmPhoneError.style.display = "none";
            return true;
        }
    }

</script>
</body>
</html>